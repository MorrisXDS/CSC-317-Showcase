# Title: The Wind Dragon
## Personal Information:
#### Full Name:       **Morris Sun** <br>
#### UtorID:          **sunxia72**   <br>
#### student number:  **1006701767** <br>
#### Assignments:     **A3 and A4**  <br>
## Instructions:
### HEADS-UP: The project has been tested only on Ubuntu 24.04 LTS WSL. It is not guaranteed to work on other linux distributions!
##### run the following commands in the terminal
##### Install essential tools
``` bash
    sudo apt update
    sudo apt install build-essential
```
##### Install Cmake build tool
``` bash
    sudo apt install cmake
```

##### Install Version Control tool
```bash
    sudo apt install git
```

##### Now change directory to where you want the project to be and run
```bash
    git clone --recurse-submodules https://github.com/MorrisXDS/CSC-317-Showcase.git
    cd CSC-317-Showcase
```

##### build the project
```bash
    rm -rf build-release && mkdir build-release && cd build-release && cmake -DCMAKE_BUILD_TYPE=Release .. && make -j$(nproc) && cd ..
    
    rm -rf build-debug && mkdir build-debug && cd build-debug && cmake -DCMAKE_BUILD_TYPE=Debug .. && make -j$(nproc) && cd ..
```

##### To run the program in release mode 
```bash
    cd build-release
    ./raytracing ../data/wind-dragon.json
    cd ..
```

##### To run the program in debug mode 
```bash
    cd build-debug
    ./raytracing ../data/wind-dragon.json
    cd ..
```

##### To run the program on all input
```bash
    cd build-release
    chmod +x ../multi-run.sh
    ../multi-run.sh
    cd ..
```

##### To view produced files in release mode 
##### For build-release
```bash
    cd build-release
    ls *.ppm
    cd ..
```
##### To view produced files in debug mode
##### For build-release
```bash
    cd build-debug
    ls *.ppm
    cd ..
```
#### The ppm file generated by external stl is wind-dragon.rgb.ppm

## IMPORTANT
### The piece.ppm is the actual final piece of work. <br>
### The piece.png is there for viewing as the broswer does not natively support viewing a ppm file!


## Description:
##### 1. A customized json file to display the output of assignment 3 on the wind-dragon.stl
##### 2. The current code runs siginificantly faster than the base assignment 3 we started with Time taken to produce a complex ppm from a complext stl has been reduced from several hours to days has been reduced to several minutes to hours.
##### 3. It combines the blinn-phong model and relections from assignment 3. Meanwhile it uses AABB tree to find ray hits. This improves ray hit lookup from O(n) to O(log (n))
##### 4. The read_json is modiified to load soups as triangles.
##### 5. Triangles, planes and spheres are also changed to adapt the interface from Object in Assignment 4
##### 6. An external complex stl has been used to test the program. It is wind-dragon.stl
##### 7. used imagemagick to render final ppm file to a png file

## Acknowledgements: 
##### 1. [CF Wind Dragon](https://www.thingiverse.com/thing:7196967)
##### 2. Assignment 3
##### 3. Assignment 4
##### 4. Eigen library submodule
##### 5. nlohmann json used in Assignment 3
##### 6. imagemagick 


